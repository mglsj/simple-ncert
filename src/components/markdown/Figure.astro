---
import FigureCaption from "../partials/FigureCaption.astro";

interface Props {
	id?: string;
	title: string;
	invertable?: boolean;
	reverseInvert?: boolean;
	halfWidth?: boolean;
	center?: boolean;
}

import crypto from "node:crypto";

const {
	id = crypto.randomUUID({ disableEntropyCache: true }),
	title,
	invertable = false,
	reverseInvert = false,
	halfWidth = false,
	center = false,
} = Astro.props;
---

<figure
	id={`figure-${id}`}
	class:list={[
		invertable && !reverseInvert && "img-invertable",
		invertable && reverseInvert && "img-reverse-invertable",
		halfWidth && "img-half-width",
	]}
>
	{
		center || halfWidth ? (
			<center>
				<slot />
			</center>
		) : (
			<slot />
		)
	}
	{
		title && (
			<figcaption>
				<FigureCaption caption={title} />
			</figcaption>
		)
	}
</figure>
