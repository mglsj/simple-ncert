---
interface Props {
	id?: string;
	title: string;
	invertable?: boolean;
}

const {
	id = Math.random().toString(16).slice(2),
	title,
	invertable = false,
} = Astro.props;

const raw_style = `
<style>
	:root[data-theme="dark"] {
		figure#${id} {
			img {
				filter: invert(1);
				-webkit-filter: invert(1);
			}
		}
	}
</style>
`;
---

<figure id={id}>
	<slot />
	<center>
		<figcaption>
			<em>
				{title}
			</em>
		</figcaption>
	</center>
</figure>

{invertable && <Fragment set:html={raw_style} />}
